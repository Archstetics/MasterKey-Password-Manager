## MasterKey Password Manager

MasterKey üîê is a CLI password manager and generator built in **Python** and **SQL**. The password manager relies on a Docker container üêã which runs a PostgreSQL image.
Each user has the possibility to save the name of the service, the username, the url and the passwords in the database for each account.

The user interface is very simple to use, and allows you to save and access your passwords by automatically copying them to the clipboard once selected.

All passwords are encrypted through the **AES** (Advanced Encryption Standard) algorithm before being entered into the database, and are protected by
a master password hashed and salted through the **Bcrypt** algorithm. 

It is also possible to use the password generator function, being able to choose its length and
type (only characters, characters and numbers, characters and special characters, characters, numbers and special characters).


## Libraries and Requirements

In order to run MasterKey, you need the following libraries:

- psycopg2
- clipboard
- string
- random
- secrets
- getpass
- sys
- os
- PyInquirer
- bcrypt
- base64
- cryptodomex

It is possible to install the following libraries through the terminal command: <code>$ pip install library_name</code>

Also you need to have a running PostgreSQL database called <code>accounts</code>, with a <code>uservault</code> table and four columns, respectively:
<code>account</code>, <code>userid</code>, <code>passwd</code>, <code>site_url</code>. I recommend using PostgreSQL in a Docker container.

To start the container, after installing Docker, use the command: <code> $ docker run --name container-name -p 5432:5432 -e POSTGRES_PASSWORD=mysecretpassword
-d postgres</code>


## Getting Started

### 1: Clone MasterKey

<code>$ sudo git clone https://github.com/Archstetics/MasterKey-Password-Manager.git</code>

### 2: Connect to the database

Open <code>src/db_manager.py</code> in order to enter into the <code>connect_to_db()</code> function <code>host</code>, <code>database</code>, <code>user</code> and <code>password</code> for your database.

### 3: Generate master password

Run <code>main.py</code> in the <code>src/</code> folder through the terminal command: <code>$ python main.py</code> and follow the master password creation wizard. If you choose to have your password automatically generated by the program, it's essential to memorize it.

Once the password is generated, a **hashed master password** will also be generated, which will be automatically copied to the clipboard.
Next, open <code>src/password_crypt_hash.py</code> and paste the hashed master password into the <code>master_password_hashed</code> variable. Finally, insert the salt into the <code>get_private_key()</code> function.

**WARNING:** Hashed master password and salt can no longer be modified once the program is started, as both variables are used for the KDF (Key Derivation Function), and their modification would make the registered passwords inaccessible.


### 4: Run MasterKey!

in order to run MasterKey, run again <code>main.py</code> in the <code>src/</code> folder through the terminal command: <code>$ python main.py</code>, login with your master password, and and choose one of the following options.

![Schermata 2021-09-19 alle 00 11 59](https://user-images.githubusercontent.com/49836037/133910224-8712d798-2a0d-4d26-b21f-149a86b229ea.png)


